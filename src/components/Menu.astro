---
const categories: string[] = ['Entradas', 'Especialidades de la tierra', 'Parrilladas', 'Especialidades del mar', 'Hamburguesas', 'Bebidas', 'Cervezas', 'Cocteleria', 'Postres', 'Aperitivos' ];

const menuItems = [
  { 
    id: 1, 
    categories: ['Entradas'], 
    name: 'Papas a la francesa', 
    description: '', 
    price: '$110', 
    image: '/img/Menu/Entradas/Papas.jpg' 
  },
  { 
    id: 2, 
    categories: ['Entradas'], 
    name: 'Chorizo argentino', 
    description: '', 
    price: '$210', 
    image: '/img/Menu/Entradas/Chorizo.jpg' 
  },
  { 
    id: 3, 
    categories: ['Entradas'], 
    name: 'Chistorra', 
    description: '', 
    price: '$210', 
    image: '/img/Menu/Entradas/Chistorra.jpg' 
  },
  { 
    id: 4, 
    categories: ['Entradas'], 
    name: 'Salchicha para asar', 
    description: '', 
    price: '$190', 
    image: '/img/Menu/Entradas/Salchicha.jpg' 
  },
  { 
    id: 5, 
    categories: ['Entradas'], 
    name: 'Guacamole', 
    description: '', 
    price: '$130', 
    image: '/img/Menu/Entradas/Guacamole.jpg' 
  },
  { 
    id: 6, 
    categories: ['Entradas'], 
    name: 'Queso fundido', 
    description: '', 
    price: '$125', 
    image: '/img/Menu/Entradas/Queso.jpg' 
  },
  { 
    id: 7, 
    categories: ['Entradas'], 
    name: 'Queso f. combinado', 
    description: 'Chorizo o champiñones', 
    price: '$155', 
    image: '/img/Menu/Entradas/Queso2.jpg' 
  },
  { 
    id: 8, 
    categories: ['Especialidades de la tierra'], 
    name: 'Porterhouse 400 gr', 
    description: 'Con guacamole, cebolla asada y chile toreado.', 
    price: '$520', 
    image: '/img/Menu/Tierra/Porterhouse.jpg' 
  },
  { 
    id: 9, 
    categories: ['Especialidades de la tierra'], 
    name: 'Kansas city 350 gr', 
    description: 'Mix de pimientos, pure de papa.', 
    price: '$350', 
    image: '/img/Menu/Tierra/Kansas.jpg' 
  },
  { 
    id: 10, 
    categories: ['Especialidades de la tierra'], 
    name: 'Arrachera 300 gr', 
    description: 'Con guacamole, cebolla asada y chile toreado.', 
    price: '$300', 
    image: '/img/Menu/Tierra/Arrachera.jpg' 
  },
  { 
    id: 11, 
    categories: ['Especialidades de la tierra'], 
    name: 'Rib eye 300 gr', 
    description: 'Con pure de papa y verduras asadas.', 
    price: '$390', 
    image: '/img/Menu/Tierra/Ribeye.jpg' 
  },
  { 
    id: 12, 
    categories: ['Especialidades de la tierra'], 
    name: 'Picaña 300 gr', 
    description: 'Con pure de papa y verduras asadas.', 
    price: '$390', 
    image: '/img/Menu/Tierra/Picaña.jpg' 
  },
  { 
    id: 13, 
    categories: ['Especialidades de la tierra'], 
    name: 'Cowboy 350 gr', 
    description: 'Con ensalada y pure de papas.', 
    price: '$430', 
    image: '/img/Menu/Tierra/Cowboy.jpg' 
  },
  { 
    id: 14, 
    categories: ['Especialidades de la tierra'], 
    name: 'Churrasco 350 gr', 
    description: 'Guacamole, cebollas asadas y chile toreado.', 
    price: '$350', 
    image: '/img/Menu/Tierra/Churrasco.jpg' 
  },
  { 
    id: 15, 
    categories: ['Especialidades de la tierra'], 
    name: 'Top sirloin 300 gr', 
    description: 'Pure de papas y verduras asadas.', 
    price: '$295', 
    image: '/img/Menu/Tierra/Topsirloin.jpg' 
  },
  { 
    id: 16, 
    categories: ['Especialidades de la tierra'], 
    name: 'New York 350 gr', 
    description: 'Papas a la francesa y ensalada.', 
    price: '$366', 
    image: '/img/Menu/Tierra/Newyork.jpg' 
  },
  { 
    id: 16, 
    categories: ['Parrilladas'], 
    name: 'Parrillada 2 reyes', 
    description: '2 a 3 perosnas\n200 gr de arrachera\n200 gr de New York\n200 gr Top Sirloin\nSalchicha para asar\nChistorra\nQueso fundido',
    price: '$1190', 
    image: '/img/Menu/Parrillada/Parrillada1.jpg' 
  },
  { 
    id: 17, 
    categories: ['Parrilladas'], 
    name: 'Parrillada de reyes', 
    description: '4 a 6 personas\n300 gr de Rib-eye\n300 gr de Carne asada\n300 gr de Churrasco\nSalchicha para asar\nChorizo argentino\nQueso fundido',
    price: '$1450', 
    image: '/img/Menu/Parrillada/Parrillada2.jpg' 
  },
  { 
    id: 18, 
    categories: ['Especialidades del mar'], 
    name: 'Ceviche de pescado', 
    description: '',
    price: '$270', 
    image: '/img/Menu/Mar/PescadoCeviche.jpg' 
  },
  { 
    id: 19, 
    categories: ['Especialidades del mar'], 
    name: 'Ceviche de camaron', 
    description: '',
    price: '$300', 
    image: '/img/Menu/Mar/CamaronCeviche.jpg' 
  },
  { 
    id: 20, 
    categories: ['Especialidades del mar'], 
    name: 'Ceviche campechano', 
    description: '',
    price: '$320', 
    image: '/img/Menu/Mar/CampechanoCeviche.jpg' 
  },
  { 
    id: 21, 
    categories: ['Especialidades del mar'], 
    name: 'Chicharron de pescado', 
    description: '',
    price: '$200', 
    image: '/img/Menu/Mar/ChicharronDePescado.jpg' 
  },
  { 
    id: 22, 
    categories: ['Especialidades del mar'], 
    name: 'Tiradito de atún', 
    description: '',
    price: '$220', 
    image: '/img/Menu/Mar/TiraditoDeAtun.jpg' 
  },
  { 
    id: 23, 
    categories: ['Especialidades del mar'], 
    name: 'Aguachile rojo', 
    description: '',
    price: '$290', 
    image: '/img/Menu/Mar/AguaChileRojo.jpg' 
  },
  { 
    id: 24, 
    categories: ['Especialidades del mar'], 
    name: 'Aguachile verde', 
    description: '',
    price: '$290', 
    image: '/img/Menu/Mar/AguaChileVerde.jpg' 
  },
  { 
    id: 25, 
    categories: ['Especialidades del mar'], 
    name: 'Pulpo a la parrilla', 
    description: '',
    price: '$350', 
    image: '/img/Menu/Mar/PulpoParrilla.jpg' 
  },
  { 
    id: 26, 
    categories: ['Especialidades del mar'], 
    name: 'Pulpo a la mantequilla', 
    description: '',
    price: '$330', 
    image: '/img/Menu/Mar/PulpoMantequilla.jpg' 
  },
  { 
    id: 27, 
    categories: ['Especialidades del mar'], 
    name: 'Pulpo al ajillo', 
    description: '',
    price: '$360', 
    image: '/img/Menu/Mar/PulpoAjillo.jpg' 
  },
  { 
    id: 28, 
    categories: ['Especialidades del mar'], 
    name: 'Pulpo zarandeado', 
    description: '',
    price: '$398', 
    image: '/img/Menu/Mar/PulpoZarandeado.jpg' 
  },
  { 
    id: 29, 
    categories: ['Especialidades del mar'], 
    name: 'Camarones al ajillo', 
    description: '',
    price: '$260', 
    image: '/img/Menu/Mar/CamaronesAjillo.jpg' 
  },
  { 
    id: 30, 
    categories: ['Especialidades del mar'], 
    name: 'Camarones empanizados', 
    description: '',
    price: '$250', 
    image: '/img/Menu/Mar/CamaronEmpanizado.jpg' 
  },
  { 
    id: 31, 
    categories: ['Especialidades del mar'], 
    name: 'Camarones a la plancha', 
    description: '',
    price: '$250', 
    image: '/img/Menu/Mar/CamaronesPlancha.jpg' 
  },
  { 
    id: 32, 
    categories: ['Especialidades del mar'], 
    name: 'Camarones al coco', 
    description: '',
    price: '$250', 
    image: '/img/Menu/Mar/CamaronesCoco.jpg' 
  },
  { 
    id: 33, 
    categories: ['Especialidades del mar'], 
    name: 'Pescado al gratin', 
    description: '',
    price: '$165', 
    image: '/img/Menu/Mar/PescadoGratin.jpg' 
  },
  { 
    id: 34, 
    categories: ['Especialidades del mar'], 
    name: 'Pescado zarandeado', 
    description: '',
    price: '$165', 
    image: '/img/Menu/Mar/PescadoZarandeado.jpg' 
  },
  { 
    id: 35, 
    categories: ['Especialidades del mar'], 
    name: 'Pescado empanizado', 
    description: '',
    price: '$165', 
    image: '/img/Menu/Mar/PescadoEmpanizado.jpg' 
  },
  { 
    id: 36, 
    categories: ['Especialidades del mar'], 
    name: 'Pescado empapelado', 
    description: '',
    price: '$200', 
    image: '/img/Menu/Mar/PescadoEmpapelado.jpg' 
  },
  { 
    id: 37, 
    categories: ['Hamburguesas'], 
    name: 'Hamburguesa clásica', 
    description: '200 gr de carne de res, acompañada de jitomate, lechuga, cebolla morada, aguacate y queso amarillo.',
    price: '$225', 
    image: '/img/Menu/Hamburguesas/Hamburguesa1.jpg' 
  },
  { 
    id: 38, 
    categories: ['Hamburguesas'], 
    name: 'Hamburguesa 2 reyes', 
    description: '200 gr de carne de res, acompañada de huevo estrellado, tocino. jitomate, lechuga, cebolla morada, y queso amarillo.',
    price: '$280', 
    image: '/img/Menu/Hamburguesas/Hamburguesa2.jpg' 
  },
  { 
    id: 39, 
    categories: ['Bebidas'], 
    name: 'Agua embotellada', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Agua.jpg' 
  },
  { 
    id: 40, 
    categories: ['Bebidas'], 
    name: 'Refresco 355 ml', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Refrescos.jpg' 
  },
  { 
    id: 41, 
    categories: ['Bebidas'], 
    name: 'Agua mineral', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Mineral.jpg' 
  },
  { 
    id: 42, 
    categories: ['Bebidas'], 
    name: 'Jarra de clericot', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Clericot.jpg' 
  },
  { 
    id: 43, 
    categories: ['Bebidas'], 
    name: 'Copa de clericot', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/CopaClericot.jpg' 
  },
  { 
    id: 44, 
    categories: ['Bebidas'], 
    name: 'Limonada', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Limonada.jpg' 
  },
  { 
    id: 45, 
    categories: ['Bebidas'], 
    name: 'Boost', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Boost.jpg' 
  },
  { 
    id: 46, 
    categories: ['Bebidas'], 
    name: 'Capuccino', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Capuccino.jpg' 
  },
  { 
    id: 47, 
    categories: ['Bebidas'], 
    name: 'Café americano', 
    description: '',
    price: '', 
    image: '/img/Menu/Bebidas/Americano.jpg' 
  },
  { 
    id: 48, 
    categories: ['Cervezas'], 
    name: 'Corona', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Corona.jpg' 
  },
  { 
    id: 49, 
    categories: ['Cervezas'], 
    name: 'Victoria', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Victoria.jpg' 
  },
  { 
    id: 50, 
    categories: ['Cervezas'], 
    name: 'XX Lager', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Lager.jpg' 
  },
  { 
    id: 51, 
    categories: ['Cervezas'], 
    name: 'XX Ambar', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Ambar.jpg' 
  },
  { 
    id: 52, 
    categories: ['Cervezas'], 
    name: 'Bohemia', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Bohemia.jpg' 
  },
  { 
    id: 53, 
    categories: ['Cervezas'], 
    name: 'Heineken', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Heineken.jpg' 
  },
  { 
    id: 54, 
    categories: ['Cervezas'], 
    name: 'Amstel Ultra', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Ultra.jpg' 
  },
  { 
    id: 55, 
    categories: ['Cervezas'], 
    name: 'Michelada clásica', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/Michelada.jpg' 
  },
  { 
    id: 56, 
    categories: ['Cervezas'], 
    name: 'Michelada Clamato', 
    description: '',
    price: '', 
    image: '/img/Menu/Cervezas/MicheladaClamato.jpg' 
  },
  { 
    id: 57, 
    categories: ['Cocteleria'], 
    name: 'Piña colada', 
    description: '',
    price: '', 
    image: '/img/Menu/Cocteles/Piña.jpg' 
  },
  { 
    id: 58, 
    categories: ['Cocteleria'], 
    name: 'Mojito cubano', 
    description: '',
    price: '', 
    image: '/img/Menu/Cocteles/Mojito.jpg' 
  },
  { 
    id: 58, 
    categories: ['Cocteleria'], 
    name: 'Mojito Fresa', 
    description: '',
    price: '', 
    image: '/img/Menu/Cocteles/MojitoFresa.jpg' 
  },
  { 
    id: 59, 
    categories: ['Cocteleria'], 
    name: 'Tequila sunrise', 
    description: '',
    price: '', 
    image: '/img/Menu/Cocteles/Sunrise.jpg' 
  },
  { 
    id: 60, 
    categories: ['Cocteleria'], 
    name: 'Daiquiri frozen de fresa', 
    description: '',
    price: '', 
    image: '/img/Menu/Cocteles/Daiquiri.jpg' 
  },
  { 
    id: 61, 
    categories: ['Postres'], 
    name: 'Flan napolitano', 
    description: '',
    price: '$85', 
    image: '/img/Menu/Postres/Flan.jpg' 
  },
  { 
    id: 62, 
    categories: ['Postres'], 
    name: 'Fried oreo', 
    description: 'Oreos fritas acompañadas de helado de vainilla.',
    price: '$95', 
    image: '/img/Menu/Postres/Oreos.jpg' 
  },
  { 
    id: 63, 
    categories: ['Aperitivos'], 
    name: 'Vermouth blanco sperone', 
    description: '',
    price: '$80', 
    image: '/img/Menu/Aperitivos/Sperone.jpg' 
  },
  { 
    id: 64, 
    categories: ['Aperitivos'], 
    name: 'Vermouth rosso sperone', 
    description: '',
    price: '$80', 
    image: '/img/Menu/Aperitivos/Rosso.jpg' 
  },
  { 
    id: 65, 
    categories: ['Aperitivos'], 
    name: 'Royal oporto', 
    description: '',
    price: '$85', 
    image: '/img/Menu/Aperitivos/Royal.jpg' 
  },
];
---

<section id="MENU">
  <div class="container mx-auto p-8">
    <h2 class="text-2xl font-bold mb-6 text-center text-white">You may like one of our dishes:</h2>
    
    <!-- Contenedor adicional para centrar en modo escritorio -->
    <div class="w-full flex justify-center md:justify-center lg:justify-center">
      <!-- Selector de categorías -->
      <div id="category-buttons" class="flex justify-start md:justify-center lg:justify-center overflow-x-auto space-x-4 mb-8 px-4 no-scrollbar">
        {categories.map((category) => (
          <button 
            type="button" 
            data-category={category} 
            class="px-4 py-2 text-sm font-medium text-white focus:outline-none whitespace-nowrap"
          >
            {category}
          </button>
        ))}
      </div>
    </div>
  
    <!-- Lista de elementos del menú -->
    <div id="menu-items" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      {menuItems.map((item) => (
        <div 
          class="menu-item bg-white border p-4 rounded-lg"
          data-categories={item.categories.join(',')}
          style="display: block;" 
        >
          <div>
            <img src={item.image} alt={item.name} class="w-full h-48 object-cover mb-4"/>
            <h3 class="text-xl font-bold">{item.name}</h3>
            
            {/* Renderiza cada línea por separado */}
            <p>
              {item.description.split('\n').map((line) => (
                <span>{line}<br /></span>
              ))}
            </p>
      
            <span class="block mt-2 font-semibold">{item.price}</span>
          </div>
        </div>
      ))}       
    </div>
  </div>
</section>



<script>
  // Obtener los botones de categoría y los elementos del menú con tipos específicos
  const categoryButtons = document.querySelectorAll<HTMLButtonElement>('#category-buttons button');
  const menuItems = document.querySelectorAll<HTMLElement>('#menu-items .menu-item');

  /**
   * Filtra los elementos del menú por categoría.
   * @param {string} category - Categoría seleccionada.
   */
  function handleFilter(category: string) {
    // Actualiza la clase del botón seleccionado
    categoryButtons.forEach((button) => {
      button.classList.toggle('text-yellow-400', button.dataset.category === category);
    });

    // Filtra los elementos del menú según la categoría seleccionada
    menuItems.forEach((item) => {
      const itemCategories = item.dataset.categories?.split(',') || [];
      item.style.display = itemCategories.includes(category) ? 'block' : 'none';
    });

    // Realizar scroll automático al contenedor de categorías
    const activeButton = Array.from(categoryButtons).find(button => button.dataset.category === category);
    if (activeButton) {
      // Desplaza horizontalmente el contenedor para centrar el botón seleccionado
      activeButton.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
    }
  }

  // Añadir evento de clic a cada botón de categoría
  categoryButtons.forEach((button) => {
    button.addEventListener('click', () => {
      handleFilter(button.dataset.category || '');
    });
  });

  // Establecer la categoría inicial
  handleFilter('Entradas');
</script>

<!-- Estilos adicionales -->
<style>
  /* Contenedor de categorías con scroll horizontal habilitado */
  #category-buttons {
    display: flex; /* Asegura que todas las categorías estén en una línea */
    overflow-x: scroll; /* Habilita el scroll horizontal */
    -webkit-overflow-scrolling: touch; /* Para scroll suave en dispositivos móviles */
    scroll-behavior: smooth; /* Transición suave al hacer scroll */
  }

  /* Scrollbar personalizado para Webkit (Chrome, Safari) */
  #category-buttons::-webkit-scrollbar {
    height: 6px; /* Tamaño del scrollbar horizontal */
  }

  #category-buttons::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.4); /* Color de la barra de scroll */
    border-radius: 10px;
  }

  #category-buttons::-webkit-scrollbar-track {
    background: transparent; /* Fondo de la barra de scroll */
  }

  /* Scrollbar personalizado para Firefox */
  #category-buttons {
    scrollbar-width: thin; /* Tamaño de scrollbar fino */
    scrollbar-color: rgba(255, 255, 255, 0.4) transparent; /* Color de scrollbar */
  }

  /* Ocultar el scrollbar si se prefiere */
  .no-scrollbar::-webkit-scrollbar {
    display: none; /* Oculta la barra de scroll en Chrome, Safari */
  }

  .no-scrollbar {
    -ms-overflow-style: none;  /* IE y Edge */
    scrollbar-width: none;  /* Firefox */
  }
</style>
