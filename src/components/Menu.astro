---
const categories: string[] = ['Entradas', 'Especialidades de la tierra', 'Parrilladas', 'Especialidades del mar', 'Hamburgesas', 'Bebidas', 'Cervezas', 'Cocteleria', 'Postres', 'Aperitivos' ];

const menuItems = [
  { 
    id: 1, 
    categories: ['Entradas'], 
    name: 'Papas a la francesa', 
    description: '', 
    price: '$110', 
    image: 'https://via.placeholder.com/300x300.png?text=Greek+Salad' 
  },
  { 
    id: 2, 
    categories: ['Pasta'], 
    name: 'Spaghetti Carbonara', 
    description: 'Creamy pasta with bacon', 
    price: '$9.50', 
    image: 'https://via.placeholder.com/300x300.png?text=Spaghetti+Carbonara' 
  },
  { 
    id: 3, 
    categories: ['Grill'], 
    name: 'Grilled Chicken', 
    description: 'Perfectly grilled chicken', 
    price: '$12.00', 
    image: 'https://via.placeholder.com/300x300.png?text=Grilled+Chicken' 
  },
  { 
    id: 4, 
    categories: ['Cake'], 
    name: 'Cheesecake', 
    description: 'Rich and creamy', 
    price: '$6.00', 
    image: 'https://via.placeholder.com/300x300.png?text=Cheesecake' 
  },
];
---

<div class="container mx-auto p-8">
  <h2 class="text-2xl font-bold mb-6 text-center text-white">You may like one of our dishes:</h2>
  
  <!-- Selector de categorías -->
  <div id="category-buttons" class="flex overflow-x-scroll scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 space-x-4 mb-8 px-4 no-scrollbar">
    {categories.map(category => (
      <button 
        type="button" 
        data-category={category} 
        class="px-4 py-2 text-sm font-medium text-white focus:outline-none whitespace-nowrap"
      >
        {category}
      </button>
    ))}
  </div>

  <!-- Lista de elementos del menú -->
  <div id="menu-items" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
    {menuItems.map(item => (
      <div 
        class="menu-item bg-white border p-4 rounded-lg"
        data-categories={item.categories.join(',')}
        style="display: block;" 
      >
        <div>
          <img src={item.image} alt={item.name} class="w-full h-48 object-cover mb-4"/>
          <h3 class="text-xl font-bold">{item.name}</h3>
          <p>{item.description}</p>
          <span class="block mt-2 font-semibold">{item.price}</span>
        </div>
      </div>
    ))}
  </div>
</div>

<!-- Estilos adicionales -->
<style>
  /* Contenedor de categorías con scroll horizontal habilitado */
  #category-buttons {
    display: flex; /* Asegura que todas las categorías estén en una línea */
    overflow-x: scroll; /* Habilita el scroll horizontal */
    -webkit-overflow-scrolling: touch; /* Para scroll suave en dispositivos móviles */
    scroll-behavior: smooth; /* Transición suave al hacer scroll */
  }

  /* Scrollbar personalizado para Webkit (Chrome, Safari) */
  #category-buttons::-webkit-scrollbar {
    height: 6px; /* Tamaño del scrollbar horizontal */
  }

  #category-buttons::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.4); /* Color de la barra de scroll */
    border-radius: 10px;
  }

  #category-buttons::-webkit-scrollbar-track {
    background: transparent; /* Fondo de la barra de scroll */
  }

  /* Scrollbar personalizado para Firefox */
  #category-buttons {
    scrollbar-width: thin; /* Tamaño de scrollbar fino */
    scrollbar-color: rgba(255, 255, 255, 0.4) transparent; /* Color de scrollbar */
  }

  /* Ocultar el scrollbar si se prefiere */
  .no-scrollbar::-webkit-scrollbar {
    display: none; /* Oculta la barra de scroll en Chrome, Safari */
  }

  .no-scrollbar {
    -ms-overflow-style: none;  /* IE y Edge */
    scrollbar-width: none;  /* Firefox */
  }
</style>

<script>
  // Obtener los botones de categoría y los elementos del menú con tipos específicos
  const categoryButtons = document.querySelectorAll<HTMLButtonElement>('#category-buttons button');
  const menuItems = document.querySelectorAll<HTMLElement>('#menu-items .menu-item');

  /**
   * Filtra los elementos del menú por categoría.
   * @param {string} category - Categoría seleccionada.
   */
  function handleFilter(category: string) {
    // Actualiza la clase del botón seleccionado
    categoryButtons.forEach((button) => {
      button.classList.toggle('text-yellow-400', button.dataset.category === category);
    });

    // Filtra los elementos del menú según la categoría seleccionada
    menuItems.forEach((item) => {
      const itemCategories = item.dataset.categories?.split(',') || [];
      item.style.display = itemCategories.includes(category) ? 'block' : 'none';
    });
  }

  // Añadir evento de clic a cada botón de categoría
  categoryButtons.forEach((button) => {
    button.addEventListener('click', () => {
      handleFilter(button.dataset.category || '');
    });
  });

  // Establecer la categoría inicial
  handleFilter('Entradas');
</script>
